{
  "$schema": "https://opencode.ai/config.json",
  "model": "anthropic/claude-opus-4-6",
  "small_model": "anthropic/claude-haiku-4-5",
  "theme": "opencode",
  "autoupdate": true,
  "share": "manual",
  "compaction": { "auto": true, "prune": true },
  "formatter": {
    "rustfmt": {
      "command": ["rustfmt", "--edition", "2021", "$FILE"],
      "extensions": [".rs"]
    },
    "dprint": {
      "command": ["dprint", "fmt", "$FILE"],
      "extensions": [".md"]
    }
  },
  "instructions": ["~/Documents/DevBrain/workflow/agent-rules.md"],
  "mcp": {
    "lean-lsp": {
      "type": "local",
      "command": ["uvx", "lean-lsp-mcp"]
    },
    "obsidian": {
      "type": "remote",
      "url": "http://localhost:3001/mcp",
      "headers": {
        "Authorization": "Bearer {env:OBSIDIAN_MCP_BEARER}"
      }
    }
  }
}
